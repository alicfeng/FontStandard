import{h as e}from"./p-30ca909f.js";import{P as r,a as t}from"./p-395bd3b0.js";import{h as n}from"./p-393f9fab.js";import{a as c}from"./p-12b41941.js";import{H as o}from"./p-6c7cdce7.js";import"./p-82a85041.js";import{P as a}from"./p-1ecbe995.js";import{s}from"./p-49288e77.js";const i={Twitter:{property:"twttr",src:"https://platform.twitter.com/widgets.js",id:"twitter-wjs",load:function(){window&&window.twttr&&window.twttr.widgets.load()}},Facebook:{property:"FB",src:"https://connect.facebook.net/en_US/sdk.js#xfbml=1&version=v3.3",id:"fb-wjs",load:e=>{window&&window.FB&&window.FB.XFBML.parse(e)}},Instagram:{property:"instgrm",src:"https://www.instagram.com/embed.js",id:"insta-wjs",load:()=>{window&&window.instgrm&&window.instgrm.Embeds.process()}}};let u,l,d;function p(r,t,n,c){switch(r){case"heading1":case"heading2":case"heading3":case"heading4":case"heading5":case"heading6":const n=parseInt(r[r.length-1],10),i=`h-${s(t.text)}`;return e(o,Object.assign({},{id:i,level:n,poster:u}),c);case"paragraph":return e(a,Object.assign({},{level:d,leading:l}),c);case"preformatted":return e("pre",null,e("code",null,c));default:return null}}function f(e){return e.reduce(((e,r)=>e+s(r[0])),"")}function m(c,o,a,s,u,l,d,p=!1,m=null){if(o[a])return function(r,t,n,c,o,a){return e(r,Object.assign({key:`element-${t}-${a+1}`},n,"image"===t?{src:n.url,url:void 0}:null),o&&o.length?o:void 0)}(o[a],a,s,0,l,d);const j=r.Elements;switch(a){case j.heading1:return w("h1",s,l,d,{id:f(l)});case j.heading2:return w("h2",s,l,d,{id:f(l)});case j.heading3:return w("h3",s,l,d,{id:f(l)});case j.heading4:return w("h4",s,l,d,{id:f(l)});case j.heading5:return w("h5",s,l,d,{id:f(l)});case j.heading6:return w("h6",s,l,d,{id:f(l)});case j.paragraph:return w("p",s,l,d);case j.preformatted:return w("pre",s,l,d);case j.strong:return w("strong",s,l,d);case j.em:return w("em",s,l,d);case j.listItem:case j.oListItem:return w("li",s,l,d);case j.list:return w("ul",s,l,d);case j.oList:return w("ol",s,l,d);case j.image:return function(r,n,c){const o=n.linkTo?t.Link.url(n.linkTo,r):null,a=n.linkTo&&n.linkTo.target?{target:n.linkTo.target}:{},s=a.target?{rel:"noopener"}:{},i=e("img",{loading:"lazy",src:n.url,alt:n.alt||""});return e("p",Object.assign({},b({className:[n.label||"","block-img"].join(" ")},c)),o?e("a",Object.assign({},Object.assign({href:o},a,s)),i):i)}(c,s,d);case j.embed:return function(r,t){i[r.oembed.provider_name]&&function({property:e,src:r,id:t}){window&&function(r,t){var n,c=document.getElementsByTagName("script")[0],o=window[e]||{};document.getElementById(t)||((n=document.createElement("script")).id=t,n.src=r,c.parentNode.insertBefore(n,c),o._e=[],o.ready=function(e){o._e.push(e)})}(r,t)}(i[r.oembed.provider_name]);const n=`embed embed-${r.oembed.provider_name.toLowerCase()}`,c=Object.assign({"data-oembed":r.oembed.embed_url,"data-oembed-type":r.oembed.type,"data-oembed-provider":r.oembed.provider_name,ref:e=>{i[r.oembed.provider_name]&&i[r.oembed.provider_name].load(e)}},r.label?{className:`${n} ${r.label}`}:{className:n}),o=e("div",{innerHTML:r.oembed.html});return e("div",Object.assign({},b(c,t)),o)}(s,d);case j.hyperlink:return function(r,c,o,a,s=!1,i=null){const u=c.data.target?{target:c.data.target}:{},l=c.data.target?{rel:"noopener"}:{};let d=t.Link.url(c.data,r);if(c.data.url){const e=new URL(c.data.url);e.hostname.indexOf(".")<0&&(d=`/${e.hostname}${e.pathname+e.search+e.hash}`)}const p=Object.assign({href:d},u,l);return e("a",s?Object.assign({},b(p,a),n(p.href,i)):Object.assign({},b(p,a)),o)}(c,s,l,d,p,m);case j.label:return function(r,t,n){const c=r.data?Object.assign({},{className:r.data.label}):{};return e("span",Object.assign({},b(c,n)),t)}(s,l,d);case j.span:return function(r){return r?r.split("\n").reduce(((r,t)=>{if(0===r.length)return[t];{const n=e("br",Object.assign({},b({},(r.length+1)/2-1)));return r.concat([n,t])}}),[]):null}(u);default:return null}}function b(e={},r){return Object.assign(e,{key:r})}function w(r,t,n,c,o={}){const a=t.label?Object.assign(o,{className:t.label}):o;return e(r,Object.assign({},b(a,c)),n)}const j=(e,t,n)=>{var{richText:o,linkResolver:a,htmlSerializerProp:s=p,routerLink:i,router:f,paragraphLevel:b,poster:w,leading:j}=e,h=function(e,r){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&r.indexOf(n)<0&&(t[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var c=0;for(n=Object.getOwnPropertySymbols(e);c<n.length;c++)r.indexOf(n[c])<0&&Object.prototype.propertyIsEnumerable.call(e,n[c])&&(t[n[c]]=e[n[c]])}return t}(e,["richText","linkResolver","htmlSerializerProp","routerLink","router","paragraphLevel","poster","leading"]);d=b>0&&b<7?b:void 0,u=w,l=j;const g=r.serialize(o,((...e)=>m.apply(null,[a,{},...e,i,f])),s);return n.map(g,(e=>(e.vattrs=c(h,e.vattrs),e)))};export{j as P,p as h}