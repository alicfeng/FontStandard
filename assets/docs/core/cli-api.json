{"title":"Stencil Core CLI API - Stencil","description":"Stencil Core CLI API","url":"/docs/cli-api","contributors":["adamdbradley"],"lastUpdated":"2020-05-08T23:38:17Z","headings":[{"id":"stencil-core-cli-api","level":1,"text":"Stencil Core CLI API"},{"id":"createnodelogger","level":2,"text":"createNodeLogger()"},{"id":"createnodesystem","level":2,"text":"createNodeSystem()"},{"id":"parseflags","level":2,"text":"parseFlags()"},{"id":"run","level":2,"text":"run()"},{"id":"runtask","level":2,"text":"runTask()"}],"srcPath":"./src/docs/core/cli-api.md","hypertext":["div",null,["h1",{"id":"stencil-core-cli-api"},"\n  \n  Stencil Core CLI API\n  \n"],"\n",["p",null,"The CLI API can be found at ",["code",null,"@stencil/core/cli"]," and ran by ",["code",null,"bin/stencil"],"."],"\n\n",["h2",{"id":"createnodelogger"},"\n  ",["a",{"class":"heading-link","href":"#createnodelogger"},["app-icon",{"name":"link"}],"\n  createNodeLogger()\n  "],"\n"],"\n\n  ",["highlight-code",null,"\n    ",["pre",{"class":"language-tsx"},["code",{"class":"language-tsx"},["span",{"class":"token function"},"createNodeLogger"],["span",{"class":"token punctuation"},"("],"process",["span",{"class":"token operator"},":"]," ",["span",{"class":"token builtin"},"any"],["span",{"class":"token punctuation"},")"],["span",{"class":"token operator"},":"]," Logger"]],"\n  "],"\n  ",["p",null,"Creates a \"logger\", based off of NodeJS APIs, that will be used by the compiler and dev-server.\nBy default the CLI uses this method to create the NodeJS logger. The NodeJS \"process\"\nobject should be provided as the first argument."],"\n\n",["h2",{"id":"createnodesystem"},"\n  ",["a",{"class":"heading-link","href":"#createnodesystem"},["app-icon",{"name":"link"}],"\n  createNodeSystem()\n  "],"\n"],"\n\n  ",["highlight-code",null,"\n    ",["pre",{"class":"language-tsx"},["code",{"class":"language-tsx"},["span",{"class":"token function"},"createNodeSystem"],["span",{"class":"token punctuation"},"("],"process",["span",{"class":"token operator"},":"]," ",["span",{"class":"token builtin"},"any"],["span",{"class":"token punctuation"},")"],["span",{"class":"token operator"},":"]," CompilerSystem"]],"\n  "],"\n  ",["p",null,"Creates the \"system\", based off of NodeJS APIs, used by the compiler. This includes any and\nall file system reads and writes using NodeJS. The compiler itself is unaware of Node's\n",["code",null,"fs"]," module. Other system APIs include any use of ",["code",null,"crypto"]," to hash content. The NodeJS \"process\"\nobject should be provided as the first argument."],"\n\n",["h2",{"id":"parseflags"},"\n  ",["a",{"class":"heading-link","href":"#parseflags"},["app-icon",{"name":"link"}],"\n  parseFlags()\n  "],"\n"],"\n\n  ",["highlight-code",null,"\n    ",["pre",{"class":"language-tsx"},["code",{"class":"language-tsx"},["span",{"class":"token function"},"parseFlags"],["span",{"class":"token punctuation"},"("],"args",["span",{"class":"token operator"},":"]," ",["span",{"class":"token builtin"},"string"],["span",{"class":"token punctuation"},"["],["span",{"class":"token punctuation"},"]"],["span",{"class":"token punctuation"},")"],["span",{"class":"token operator"},":"]," ConfigFlags"]],"\n  "],"\n  ",["p",null,"Used by the CLI to parse command-line arguments into a typed ",["code",null,"ConfigFlags"]," object.\nThis is an example of how it's used internally: ",["code",null,"parseFlags(process.argv.slice(2))"],"."],"\n\n",["h2",{"id":"run"},"\n  ",["a",{"class":"heading-link","href":"#run"},["app-icon",{"name":"link"}],"\n  run()\n  "],"\n"],"\n\n  ",["highlight-code",null,"\n    ",["pre",{"class":"language-tsx"},["code",{"class":"language-tsx"},["span",{"class":"token function"},"run"],["span",{"class":"token punctuation"},"("],"init",["span",{"class":"token operator"},":"]," CliInitOptions",["span",{"class":"token punctuation"},")"],["span",{"class":"token operator"},":"]," ",["span",{"class":"token builtin"},"Promise"],["span",{"class":"token tag"},["span",{"class":"token tag"},["span",{"class":"token punctuation"},"<"],"void"],["span",{"class":"token punctuation"},">"]]]],"\n  "],"\n  ",["p",null,"Runs the CLI with the given options. This is used by Stencil's default ",["code",null,"bin/stencil"]," file,\nbut can be used externally too."],"\n\n",["h2",{"id":"runtask"},"\n  ",["a",{"class":"heading-link","href":"#runtask"},["app-icon",{"name":"link"}],"\n  runTask()\n  "],"\n"],"\n\n  ",["highlight-code",null,"\n    ",["pre",{"class":"language-tsx"},["code",{"class":"language-tsx"},["span",{"class":"token function"},"runTask"],["span",{"class":"token punctuation"},"("],"process",["span",{"class":"token operator"},":"]," ",["span",{"class":"token builtin"},"any"],["span",{"class":"token punctuation"},","]," config",["span",{"class":"token operator"},":"]," Config",["span",{"class":"token punctuation"},","]," task",["span",{"class":"token operator"},":"]," TaskCommand",["span",{"class":"token punctuation"},")"],["span",{"class":"token operator"},":"]," ",["span",{"class":"token builtin"},"Promise"],["span",{"class":"token tag"},["span",{"class":"token tag"},["span",{"class":"token punctuation"},"<"],"void"],["span",{"class":"token punctuation"},">"]]]],"\n  "],"\n  ",["p",null,"Runs individual tasks giving a NodeJS ",["code",null,"process"],", Stencil ",["code",null,"config"],", and task command."]]}