{"title":"Functional Components - Stencil","description":"Functional Components","url":"/docs/functional-components","contributors":["simonhaenisch","manucorporat","adamdbradley"],"lastUpdated":"2020-04-27T12:09:30Z","headings":[{"id":"working-with-functional-components","level":1,"text":"Working with Functional Components"},{"id":"working-with-children","level":2,"text":"Working with children"},{"id":"disclaimer","level":2,"text":"Disclaimer"}],"srcPath":"./src/docs/components/functional-components.md","hypertext":["div",null,["h1",{"id":"working-with-functional-components"},"\n  \n  Working with Functional Components\n  \n"],"\n",["p",null,"Functional components are quite different to normal Stencil web components because they are a part of Stencil's JSX compiler. A functional component is basically a function that takes an object of props and turns it into JSX."],"\n\n  ",["highlight-code",null,"\n    ",["pre",{"class":"language-tsx"},["code",{"class":"language-tsx"},["span",{"class":"token keyword"},"const"]," ",["span",{"class":"token function-variable function"},"Hello"]," ",["span",{"class":"token operator"},"="]," ",["span",{"class":"token parameter"},"props"]," ",["span",{"class":"token operator"},"=>"]," ",["span",{"class":"token tag"},["span",{"class":"token tag"},["span",{"class":"token punctuation"},"<"],"h1"],["span",{"class":"token punctuation"},">"]],["span",{"class":"token plain-text"},"Hello, "],["span",{"class":"token punctuation"},"{"],"props",["span",{"class":"token punctuation"},"."],"name",["span",{"class":"token punctuation"},"}"],["span",{"class":"token plain-text"},"!"],["span",{"class":"token tag"},["span",{"class":"token tag"},["span",{"class":"token punctuation"},"</"],"h1"],["span",{"class":"token punctuation"},">"]],["span",{"class":"token punctuation"},";"]]],"\n  "],"\n  ",["p",null,"When the JSX transpiler encounters such a component, it will take its attributes, pass them into the function as the ",["code",null,"props"]," object, and replace the component with the JSX that is returned by the function."],"\n\n  ",["highlight-code",null,"\n    ",["pre",{"class":"language-tsx"},["code",{"class":"language-tsx"},["span",{"class":"token tag"},["span",{"class":"token tag"},["span",{"class":"token punctuation"},"<"],["span",{"class":"token class-name"},"Hello"]]," ",["span",{"class":"token attr-name"},"name"],["span",{"class":"token attr-value"},["span",{"class":"token punctuation attr-equals"},"="],["span",{"class":"token punctuation"},"\""],"World",["span",{"class":"token punctuation"},"\""]]," ",["span",{"class":"token punctuation"},"/>"]]]],"\n  "],"\n  ",["p",null,"Functional components also accept a second argument ",["code",null,"children"],"."],"\n\n  ",["highlight-code",null,"\n    ",["pre",{"class":"language-tsx"},["code",{"class":"language-tsx"},["span",{"class":"token keyword"},"const"]," ",["span",{"class":"token function-variable function"},"Hello"]," ",["span",{"class":"token operator"},"="]," ",["span",{"class":"token punctuation"},"("],["span",{"class":"token parameter"},"props",["span",{"class":"token punctuation"},","]," children"],["span",{"class":"token punctuation"},")"]," ",["span",{"class":"token operator"},"=>"]," ",["span",{"class":"token punctuation"},"["],"\n  ",["span",{"class":"token tag"},["span",{"class":"token tag"},["span",{"class":"token punctuation"},"<"],"h1"],["span",{"class":"token punctuation"},">"]],["span",{"class":"token plain-text"},"Hello, "],["span",{"class":"token punctuation"},"{"],"props",["span",{"class":"token punctuation"},"."],"name",["span",{"class":"token punctuation"},"}"],["span",{"class":"token tag"},["span",{"class":"token tag"},["span",{"class":"token punctuation"},"</"],"h1"],["span",{"class":"token punctuation"},">"]],["span",{"class":"token punctuation"},","],"\n  children\n",["span",{"class":"token punctuation"},"]"],["span",{"class":"token punctuation"},";"]]],"\n  "],"\n  ",["p",null,"The JSX transpiler passes all child elements of the component as an array into the function's ",["code",null,"children"]," argument."],"\n\n  ",["highlight-code",null,"\n    ",["pre",{"class":"language-tsx"},["code",{"class":"language-tsx"},["span",{"class":"token tag"},["span",{"class":"token tag"},["span",{"class":"token punctuation"},"<"],["span",{"class":"token class-name"},"Hello"]]," ",["span",{"class":"token attr-name"},"name"],["span",{"class":"token attr-value"},["span",{"class":"token punctuation attr-equals"},"="],["span",{"class":"token punctuation"},"\""],"World",["span",{"class":"token punctuation"},"\""]],["span",{"class":"token punctuation"},">"]],["span",{"class":"token plain-text"},"\n  "],["span",{"class":"token tag"},["span",{"class":"token tag"},["span",{"class":"token punctuation"},"<"],"p"],["span",{"class":"token punctuation"},">"]],["span",{"class":"token plain-text"},"I'm a child element."],["span",{"class":"token tag"},["span",{"class":"token tag"},["span",{"class":"token punctuation"},"</"],"p"],["span",{"class":"token punctuation"},">"]],["span",{"class":"token plain-text"},"\n"],["span",{"class":"token tag"},["span",{"class":"token tag"},["span",{"class":"token punctuation"},"</"],["span",{"class":"token class-name"},"Hello"]],["span",{"class":"token punctuation"},">"]]]],"\n  "],"\n  ",["p",null,"Stencil provides a ",["code",null,"FunctionalComponent"]," generic type that allows to specify an interface for the component's properties."],"\n\n  ",["highlight-code",null,"\n    ",["pre",{"class":"language-tsx"},["code",{"class":"language-tsx"},["span",{"class":"token comment"},"// Hello.tsx"],"\n\n",["span",{"class":"token keyword"},"import"]," ",["span",{"class":"token punctuation"},"{"]," FunctionalComponent",["span",{"class":"token punctuation"},","]," h ",["span",{"class":"token punctuation"},"}"]," ",["span",{"class":"token keyword"},"from"]," ",["span",{"class":"token string"},"'@stencil/core'"],["span",{"class":"token punctuation"},";"],"\n\n",["span",{"class":"token keyword"},"interface"]," ",["span",{"class":"token class-name"},"HelloProps"]," ",["span",{"class":"token punctuation"},"{"],"\n  name",["span",{"class":"token operator"},":"]," ",["span",{"class":"token builtin"},"string"],["span",{"class":"token punctuation"},";"],"\n",["span",{"class":"token punctuation"},"}"],"\n\n",["span",{"class":"token keyword"},"export"]," ",["span",{"class":"token keyword"},"const"]," Hello",["span",{"class":"token operator"},":"]," FunctionalComponent",["span",{"class":"token tag"},["span",{"class":"token tag"},["span",{"class":"token punctuation"},"<"],["span",{"class":"token class-name"},"HelloProps"]],["span",{"class":"token punctuation"},">"]],["span",{"class":"token plain-text"}," = ({ name }) => (\n  "],["span",{"class":"token tag"},["span",{"class":"token tag"},["span",{"class":"token punctuation"},"<"],"h1"],["span",{"class":"token punctuation"},">"]],["span",{"class":"token plain-text"},"Hello, "],["span",{"class":"token punctuation"},"{"],"name",["span",{"class":"token punctuation"},"}"],["span",{"class":"token plain-text"},"!"],["span",{"class":"token tag"},["span",{"class":"token tag"},["span",{"class":"token punctuation"},"</"],"h1"],["span",{"class":"token punctuation"},">"]],["span",{"class":"token plain-text"},"\n);"]]],"\n  "],"\n  \n",["h2",{"id":"working-with-children"},"\n  ",["a",{"class":"heading-link","href":"#working-with-children"},["app-icon",{"name":"link"}],"\n  Working with children\n  "],"\n"],"\n",["p",null,"The second argument of a functional component receives the passed children, but in order to work with them, the ",["code",null,"FunctionalComponent"]," provides an utils object that exposes a ",["code",null,"map()"]," method to transform the children, and ",["code",null,"forEach()"]," to read them. Reading the ",["code",null,"children"]," array is not recommended since the stencil compiler can rename the vNode properties in prod mode."],"\n\n  ",["highlight-code",null,"\n    ",["pre",{"class":"language-tsx"},["code",{"class":"language-tsx"},["span",{"class":"token keyword"},"export"]," ",["span",{"class":"token keyword"},"interface"]," ",["span",{"class":"token class-name"},"FunctionalUtilities"]," ",["span",{"class":"token punctuation"},"{"],"\n  ",["span",{"class":"token function-variable function"},"forEach"],["span",{"class":"token operator"},":"]," ",["span",{"class":"token punctuation"},"("],"children",["span",{"class":"token operator"},":"]," VNode",["span",{"class":"token punctuation"},"["],["span",{"class":"token punctuation"},"]"],["span",{"class":"token punctuation"},","]," ",["span",{"class":"token function-variable function"},"cb"],["span",{"class":"token operator"},":"]," ",["span",{"class":"token punctuation"},"("],["span",{"class":"token parameter"},"vnode",["span",{"class":"token operator"},":"]," ChildNode",["span",{"class":"token punctuation"},","]," index",["span",{"class":"token operator"},":"]," number",["span",{"class":"token punctuation"},","]," array",["span",{"class":"token operator"},":"]," ChildNode",["span",{"class":"token punctuation"},"["],["span",{"class":"token punctuation"},"]"]],["span",{"class":"token punctuation"},")"]," ",["span",{"class":"token operator"},"=>"]," ",["span",{"class":"token keyword"},"void"],["span",{"class":"token punctuation"},")"]," ",["span",{"class":"token operator"},"=>"]," ",["span",{"class":"token keyword"},"void"],["span",{"class":"token punctuation"},";"],"\n  ",["span",{"class":"token function-variable function"},"map"],["span",{"class":"token operator"},":"]," ",["span",{"class":"token punctuation"},"("],"children",["span",{"class":"token operator"},":"]," VNode",["span",{"class":"token punctuation"},"["],["span",{"class":"token punctuation"},"]"],["span",{"class":"token punctuation"},","]," ",["span",{"class":"token function-variable function"},"cb"],["span",{"class":"token operator"},":"]," ",["span",{"class":"token punctuation"},"("],["span",{"class":"token parameter"},"vnode",["span",{"class":"token operator"},":"]," ChildNode",["span",{"class":"token punctuation"},","]," index",["span",{"class":"token operator"},":"]," number",["span",{"class":"token punctuation"},","]," array",["span",{"class":"token operator"},":"]," ChildNode",["span",{"class":"token punctuation"},"["],["span",{"class":"token punctuation"},"]"]],["span",{"class":"token punctuation"},")"]," ",["span",{"class":"token operator"},"=>"]," ChildNode",["span",{"class":"token punctuation"},")"]," ",["span",{"class":"token operator"},"=>"]," VNode",["span",{"class":"token punctuation"},"["],["span",{"class":"token punctuation"},"]"],["span",{"class":"token punctuation"},";"],"\n",["span",{"class":"token punctuation"},"}"],"\n",["span",{"class":"token keyword"},"export"]," ",["span",{"class":"token keyword"},"interface"]," ",["span",{"class":"token class-name"},"ChildNode"]," ",["span",{"class":"token punctuation"},"{"],"\n  vtag",["span",{"class":"token operator"},"?"],["span",{"class":"token operator"},":"]," ",["span",{"class":"token builtin"},"string"]," ",["span",{"class":"token operator"},"|"]," ",["span",{"class":"token builtin"},"number"]," ",["span",{"class":"token operator"},"|"]," ",["span",{"class":"token builtin"},"Function"],["span",{"class":"token punctuation"},";"],"\n  vkey",["span",{"class":"token operator"},"?"],["span",{"class":"token operator"},":"]," ",["span",{"class":"token builtin"},"string"]," ",["span",{"class":"token operator"},"|"]," ",["span",{"class":"token builtin"},"number"],["span",{"class":"token punctuation"},";"],"\n  vtext",["span",{"class":"token operator"},"?"],["span",{"class":"token operator"},":"]," ",["span",{"class":"token builtin"},"string"],["span",{"class":"token punctuation"},";"],"\n  vchildren",["span",{"class":"token operator"},"?"],["span",{"class":"token operator"},":"]," VNode",["span",{"class":"token punctuation"},"["],["span",{"class":"token punctuation"},"]"],["span",{"class":"token punctuation"},";"],"\n  vattrs",["span",{"class":"token operator"},"?"],["span",{"class":"token operator"},":"]," ",["span",{"class":"token builtin"},"any"],["span",{"class":"token punctuation"},";"],"\n  vname",["span",{"class":"token operator"},"?"],["span",{"class":"token operator"},":"]," ",["span",{"class":"token builtin"},"string"],["span",{"class":"token punctuation"},";"],"\n",["span",{"class":"token punctuation"},"}"]]],"\n  "],"\n  ",["p",null,["strong",null,"Example:"]],"\n\n  ",["highlight-code",null,"\n    ",["pre",{"class":"language-tsx"},["code",{"class":"language-tsx"},["span",{"class":"token keyword"},"export"]," ",["span",{"class":"token keyword"},"const"]," AddClass",["span",{"class":"token operator"},":"]," ",["span",{"class":"token function-variable function"},"FunctionalComponent"]," ",["span",{"class":"token operator"},"="]," ",["span",{"class":"token punctuation"},"("],["span",{"class":"token parameter"},"_",["span",{"class":"token punctuation"},","]," children",["span",{"class":"token punctuation"},","]," utils"],["span",{"class":"token punctuation"},")"]," ",["span",{"class":"token operator"},"=>"]," ",["span",{"class":"token punctuation"},"("],"\n  utils",["span",{"class":"token punctuation"},"."],["span",{"class":"token function"},"map"],["span",{"class":"token punctuation"},"("],"children",["span",{"class":"token punctuation"},","]," ",["span",{"class":"token parameter"},"child"]," ",["span",{"class":"token operator"},"=>"]," ",["span",{"class":"token punctuation"},"("],["span",{"class":"token punctuation"},"{"],"\n    ",["span",{"class":"token operator"},"..."],"child",["span",{"class":"token punctuation"},","],"\n    vattrs",["span",{"class":"token operator"},":"]," ",["span",{"class":"token punctuation"},"{"],"\n      ",["span",{"class":"token operator"},"..."],"child",["span",{"class":"token punctuation"},"."],"vattrs",["span",{"class":"token punctuation"},","],"\n      ",["span",{"class":"token keyword"},"class"],["span",{"class":"token operator"},":"]," ",["span",{"class":"token template-string"},["span",{"class":"token template-punctuation string"},"`"],["span",{"class":"token interpolation"},["span",{"class":"token interpolation-punctuation punctuation"},"${"],"child",["span",{"class":"token punctuation"},"."],"vattrs",["span",{"class":"token punctuation"},"."],["span",{"class":"token keyword"},"class"],["span",{"class":"token interpolation-punctuation punctuation"},"}"]],["span",{"class":"token string"}," add-class"],["span",{"class":"token template-punctuation string"},"`"]],"\n    ",["span",{"class":"token punctuation"},"}"],"\n  ",["span",{"class":"token punctuation"},"}"],"\n  ",["span",{"class":"token punctuation"},")"],["span",{"class":"token punctuation"},")"],"\n",["span",{"class":"token punctuation"},")"],["span",{"class":"token punctuation"},";"]]],"\n  "],"\n  ",["blockquote",null,"\n",["p",null,"When using a functional component in JSX, its name must start with a capital letter. Therefore it makes sense to export it as such."],"\n"],"\n\n",["h2",{"id":"disclaimer"},"\n  ",["a",{"class":"heading-link","href":"#disclaimer"},["app-icon",{"name":"link"}],"\n  Disclaimer\n  "],"\n"],"\n",["p",null,"There are a few major differences between functional components and class components. Since functional components are just syntactic sugar within JSX, they..."],"\n",["ul",null,"\n",["li",null,"aren't compiled into web components,"],"\n",["li",null,"don't create a DOM node,"],"\n",["li",null,"don't have a Shadow DOM or scoped styles,"],"\n",["li",null,"don't have lifecycle hooks,"],"\n",["li",null,"are stateless."],"\n"],"\n",["p",null,"When deciding whether to use functional components, one concept to keep in mind is that often the UI of your application can be a function of its state, i. e., given the same state, it always renders the same UI. If a component has to hold state, deal with events, etc, it should probably be a class component. If a component's purpose is to simply encapsulate some markup so it can be reused across your app, it can probably be a functional component (especially if you're using a component library and thus don't need to style it)."]]}