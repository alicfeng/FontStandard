{"title":"Context - Stencil","description":"Stencil has a number of add-ons that you can use with the build process.","url":"/docs/context","contributors":["jthoms1"],"lastUpdated":"2018-09-27T05:18:54Z","headings":[{"id":"context","level":1,"text":"Context"},{"id":"what-is-context","level":3,"text":"What is Context?"},{"id":"how-to-bind-a-context-item","level":3,"text":"How to Bind a Context Item"},{"id":"how-to-define-a-context-item","level":3,"text":"How to Define a Context Item"}],"srcPath":"./src/docs/context.md","hypertext":["div",null,["h1",{"id":"context"},"\n  \n  Context\n  \n"],"\n\n",["h3",{"id":"what-is-context"},"\n  ",["a",{"class":"heading-link","href":"#what-is-context"},["app-icon",{"name":"link"}],"\n  What is Context?\n  "],"\n"],"\n",["p",null,"Context is a global object which can be used to store global variables, singleton objects etc. and bind them in your components as props. You can see it as a dependency injector for Stencil."],"\n\n",["h3",{"id":"how-to-bind-a-context-item"},"\n  ",["a",{"class":"heading-link","href":"#how-to-bind-a-context-item"},["app-icon",{"name":"link"}],"\n  How to Bind a Context Item\n  "],"\n"],"\n\n  ",["highlight-code",null,"\n    ",["pre",{"class":"language-tsx"},["code",{"class":"language-tsx"},"@",["span",{"class":"token function"},"Component"],["span",{"class":"token punctuation"},"("],["span",{"class":"token punctuation"},"{"],"\n  tag",["span",{"class":"token operator"},":"]," ",["span",{"class":"token string"},"'my-component'"],"\n",["span",{"class":"token punctuation"},"}"],["span",{"class":"token punctuation"},")"],["span",{"class":"token punctuation"},";"],"\n",["span",{"class":"token keyword"},"export"]," ",["span",{"class":"token keyword"},"class"]," ",["span",{"class":"token class-name"},"MyComponent"]," ",["span",{"class":"token punctuation"},"{"],"\n  @",["span",{"class":"token function"},"Prop"],["span",{"class":"token punctuation"},"("],["span",{"class":"token punctuation"},"{"]," context",["span",{"class":"token operator"},":"]," ",["span",{"class":"token string"},"'myObj'"]," ",["span",{"class":"token punctuation"},"}"],["span",{"class":"token punctuation"},")"]," ",["span",{"class":"token keyword"},"private"]," myObj",["span",{"class":"token operator"},":"]," ",["span",{"class":"token builtin"},"any"],["span",{"class":"token punctuation"},";"],"\n",["span",{"class":"token punctuation"},"}"]]],"\n  "],"\n  \n",["h3",{"id":"how-to-define-a-context-item"},"\n  ",["a",{"class":"heading-link","href":"#how-to-define-a-context-item"},["app-icon",{"name":"link"}],"\n  How to Define a Context Item\n  "],"\n"],"\n",["p",null,"Context items are defined by directly binding to the global ",["code",null,"Context"]," object. As a best practice you can use ",["code",null,"src/global"]," to store the definitions."],"\n",["p",null,"First you need to define the item:"],"\n\n  ",["highlight-code",null,"\n    ",["pre",{"class":"language-tsx"},["code",{"class":"language-tsx"},["span",{"class":"token comment"},"// src/global/myObj.ts"],"\n\n",["span",{"class":"token keyword"},"export"]," ",["span",{"class":"token keyword"},"default"]," ",["span",{"class":"token punctuation"},"("],["span",{"class":"token keyword"},"function"],["span",{"class":"token punctuation"},"("],["span",{"class":"token punctuation"},")"]," ",["span",{"class":"token punctuation"},"{"],"\n  ",["span",{"class":"token keyword"},"const"]," privateInstance ",["span",{"class":"token operator"},"="]," ",["span",{"class":"token operator"},"..."],"\n\n  ",["span",{"class":"token keyword"},"return"]," ",["span",{"class":"token punctuation"},"{"],"\n    ",["span",{"class":"token function-variable function"},"call"],["span",{"class":"token operator"},":"]," ",["span",{"class":"token punctuation"},"("],["span",{"class":"token punctuation"},")"]," ",["span",{"class":"token operator"},"=>"]," ",["span",{"class":"token punctuation"},"{"],"\n      privateInstance",["span",{"class":"token punctuation"},"."],["span",{"class":"token function"},"method"],["span",{"class":"token punctuation"},"("],["span",{"class":"token punctuation"},")"],["span",{"class":"token punctuation"},";"],"\n    ",["span",{"class":"token punctuation"},"}"],"\n  ",["span",{"class":"token punctuation"},"}"],["span",{"class":"token punctuation"},";"],"\n",["span",{"class":"token punctuation"},"}"],["span",{"class":"token punctuation"},")"],["span",{"class":"token punctuation"},"("],["span",{"class":"token punctuation"},")"],["span",{"class":"token punctuation"},";"]]],"\n  "],"\n  ",["p",null,"Then create a global script that will be used to reference all the context items:"],"\n\n  ",["highlight-code",null,"\n    ",["pre",{"class":"language-tsx"},["code",{"class":"language-tsx"},["span",{"class":"token comment"},"// src/global/index.ts"],"\n\n",["span",{"class":"token keyword"},"import"]," myObj ",["span",{"class":"token keyword"},"from"]," ",["span",{"class":"token string"},"'./myObj'"],["span",{"class":"token punctuation"},";"],"\n\n",["span",{"class":"token keyword"},"declare"]," ",["span",{"class":"token keyword"},"var"]," Context",["span",{"class":"token operator"},":"]," ",["span",{"class":"token builtin"},"any"],["span",{"class":"token punctuation"},";"],"\n\nContext",["span",{"class":"token punctuation"},"."],"globalVar ",["span",{"class":"token operator"},"="]," ",["span",{"class":"token string"},"''"],["span",{"class":"token punctuation"},";"],"\nContext",["span",{"class":"token punctuation"},"."],"myObj ",["span",{"class":"token operator"},"="]," myObj",["span",{"class":"token punctuation"},";"]]],"\n  "],"\n  ",["p",null,"Finally just add the global script in config:"],"\n\n  ",["highlight-code",null,"\n    ",["pre",{"class":"language-tsx"},["code",{"class":"language-tsx"},["span",{"class":"token keyword"},"export"],["span",{"class":"token punctuation"},"."],"config ",["span",{"class":"token operator"},"="]," ",["span",{"class":"token punctuation"},"{"],"\n  ",["span",{"class":"token comment"},"// ..."],"\n  globalScript",["span",{"class":"token operator"},":"]," ",["span",{"class":"token string"},"'src/global/index.ts'"],"\n",["span",{"class":"token punctuation"},"}"],["span",{"class":"token punctuation"},";"]]],"\n  "]]}