{"title":"Working with host elements - Stencil","description":"Working with host elements","url":"/docs/host-element","contributors":["jthoms1"],"headings":[{"id":"working-with-host-elements","level":1,"text":"Working with host elements"},{"id":"host","level":2,"text":"<code>&lt;Host&gt;</code>"},{"id":"host-can-work-as-a-fragment","level":3,"text":"<code>&lt;Host&gt;</code> can work as a <code>&lt;Fragment&gt;</code>"},{"id":"element-decorator","level":2,"text":"Element Decorator"},{"id":"styling","level":2,"text":"Styling"},{"id":"shadow-dom","level":3,"text":"Shadow DOM"}],"srcPath":"./src/docs/components/host-element.md","hypertext":["div",null,["h1",{"id":"working-with-host-elements"},"\n  \n  Working with host elements\n  \n"],"\n",["p",null,"Stencil components render their children declaratively in their ",["code",null,"render"]," method ",["a",{"href":"templating-jsx"},"using JSX"],". Most of the times, the ",["code",null,"render()"]," function describes the children elements that are about to be rendered, but it can also be used to render attributes of the host element itself."],"\n\n",["h2",{"id":"host"},"\n  ",["a",{"class":"heading-link","href":"#host"},["app-icon",{"name":"link"}],"\n  ",["code",null,"<Host>"],"\n  "],"\n"],"\n",["p",null,"The ",["code",null,"Host"]," functional component can be used at the root of the render function to set attributes and event listeners to the host element itself. This works just like any other JSX:"],"\n\n  ",["highlight-code",null,"\n    ",["pre",{"class":"language-tsx"},["code",{"class":"language-tsx"},["span",{"class":"token comment"},"// Host is imported from '@stencil/core'"],"\n",["span",{"class":"token keyword"},"import"]," ",["span",{"class":"token punctuation"},"{"]," Component",["span",{"class":"token punctuation"},","]," Host",["span",{"class":"token punctuation"},","]," h ",["span",{"class":"token punctuation"},"}"]," ",["span",{"class":"token keyword"},"from"]," ",["span",{"class":"token string"},"'@stencil/core'"],["span",{"class":"token punctuation"},";"],"\n\n@",["span",{"class":"token function"},"Component"],["span",{"class":"token punctuation"},"("],["span",{"class":"token punctuation"},"{"],"tag",["span",{"class":"token operator"},":"]," ",["span",{"class":"token string"},"'todo-list'"],["span",{"class":"token punctuation"},"}"],["span",{"class":"token punctuation"},")"],"\n",["span",{"class":"token keyword"},"export"]," ",["span",{"class":"token keyword"},"class"]," ",["span",{"class":"token class-name"},"TodoList"]," ",["span",{"class":"token punctuation"},"{"],"\n  @",["span",{"class":"token function"},"Prop"],["span",{"class":"token punctuation"},"("],["span",{"class":"token punctuation"},")"]," open ",["span",{"class":"token operator"},"="]," ",["span",{"class":"token boolean"},"false"],["span",{"class":"token punctuation"},";"],"\n  ",["span",{"class":"token function"},"render"],["span",{"class":"token punctuation"},"("],["span",{"class":"token punctuation"},")"]," ",["span",{"class":"token punctuation"},"{"],"\n    ",["span",{"class":"token keyword"},"return"]," ",["span",{"class":"token punctuation"},"("],"\n      ",["span",{"class":"token tag"},["span",{"class":"token tag"},["span",{"class":"token punctuation"},"<"],["span",{"class":"token class-name"},"Host"]],"\n        ",["span",{"class":"token attr-name"},"aria-hidden"],["span",{"class":"token script language-javascript"},["span",{"class":"token script-punctuation punctuation"},"="],["span",{"class":"token punctuation"},"{"],["span",{"class":"token keyword"},"this"],["span",{"class":"token punctuation"},"."],"open ",["span",{"class":"token operator"},"?"]," ",["span",{"class":"token string"},"'false'"]," ",["span",{"class":"token operator"},":"]," ",["span",{"class":"token string"},"'true'"],["span",{"class":"token punctuation"},"}"]],"\n        ",["span",{"class":"token attr-name"},"class"],["span",{"class":"token script language-javascript"},["span",{"class":"token script-punctuation punctuation"},"="],["span",{"class":"token punctuation"},"{"],["span",{"class":"token punctuation"},"{"],"\n          ",["span",{"class":"token string"},"'todo-list'"],["span",{"class":"token operator"},":"]," ",["span",{"class":"token boolean"},"true"],["span",{"class":"token punctuation"},","],"\n          ",["span",{"class":"token string"},"'is-open'"],["span",{"class":"token operator"},":"]," ",["span",{"class":"token keyword"},"this"],["span",{"class":"token punctuation"},"."],"open\n        ",["span",{"class":"token punctuation"},"}"],["span",{"class":"token punctuation"},"}"]],"\n      ",["span",{"class":"token punctuation"},"/>"]],"\n    ",["span",{"class":"token punctuation"},")"],"\n  ",["span",{"class":"token punctuation"},"}"],"\n",["span",{"class":"token punctuation"},"}"]]],"\n  "],"\n  ",["p",null,"If ",["code",null,"this.open === true"],", it will render:"],"\n\n  ",["highlight-code",null,"\n    ",["pre",{"class":"language-tsx"},["code",{"class":"language-tsx"},["span",{"class":"token tag"},["span",{"class":"token tag"},["span",{"class":"token punctuation"},"<"],"todo-list"]," ",["span",{"class":"token attr-name"},"class"],["span",{"class":"token attr-value"},["span",{"class":"token punctuation attr-equals"},"="],["span",{"class":"token punctuation"},"\""],"todo-list is-open",["span",{"class":"token punctuation"},"\""]]," ",["span",{"class":"token attr-name"},"aria-hidden"],["span",{"class":"token attr-value"},["span",{"class":"token punctuation attr-equals"},"="],["span",{"class":"token punctuation"},"\""],"false",["span",{"class":"token punctuation"},"\""]],["span",{"class":"token punctuation"},">"]],["span",{"class":"token tag"},["span",{"class":"token tag"},["span",{"class":"token punctuation"},"</"],"todo-list"],["span",{"class":"token punctuation"},">"]]]],"\n  "],"\n  ",["p",null,"similary, if ",["code",null,"this.open === false"],":"],"\n\n  ",["highlight-code",null,"\n    ",["pre",{"class":"language-tsx"},["code",{"class":"language-tsx"},["span",{"class":"token tag"},["span",{"class":"token tag"},["span",{"class":"token punctuation"},"<"],"todo-list"]," ",["span",{"class":"token attr-name"},"class"],["span",{"class":"token attr-value"},["span",{"class":"token punctuation attr-equals"},"="],["span",{"class":"token punctuation"},"\""],"todo-list",["span",{"class":"token punctuation"},"\""]]," ",["span",{"class":"token attr-name"},"aria-hidden"],["span",{"class":"token attr-value"},["span",{"class":"token punctuation attr-equals"},"="],["span",{"class":"token punctuation"},"\""],"true",["span",{"class":"token punctuation"},"\""]],["span",{"class":"token punctuation"},">"]],["span",{"class":"token tag"},["span",{"class":"token tag"},["span",{"class":"token punctuation"},"</"],"todo-list"],["span",{"class":"token punctuation"},">"]]]],"\n  "],"\n  ",["p",null,["code",null,"<Host>"]," is a virtual component, a virtual API exposed by stencil to declaratively set the attributes of the host element, it will never be rendered in the DOM, i.e. you will never see ",["code",null,"<Host>"]," in Chrome Dev Tools for instance."],"\n\n",["h3",{"id":"host-can-work-as-a-fragment"},"\n  ",["a",{"class":"heading-link","href":"#host-can-work-as-a-fragment"},["app-icon",{"name":"link"}],"\n  ",["code",null,"<Host>"]," can work as a ",["code",null,"<Fragment>"],"\n  "],"\n"],"\n",["p",null,["code",null,"<Host>"]," can also be used when more than one component needs to be rendered at the root level for example:"],"\n",["p",null,"It could be achieved by a ",["code",null,"render()"]," method like this:"],"\n\n  ",["highlight-code",null,"\n    ",["pre",{"class":"language-tsx"},["code",{"class":"language-tsx"},"@",["span",{"class":"token function"},"Component"],["span",{"class":"token punctuation"},"("],["span",{"class":"token punctuation"},"{"],"tag",["span",{"class":"token operator"},":"]," ",["span",{"class":"token string"},"'my-cmp'"],["span",{"class":"token punctuation"},"}"],["span",{"class":"token punctuation"},")"],"\n",["span",{"class":"token keyword"},"export"]," ",["span",{"class":"token keyword"},"class"]," ",["span",{"class":"token class-name"},"MyCmp"]," ",["span",{"class":"token punctuation"},"{"],"\n  ",["span",{"class":"token function"},"render"],["span",{"class":"token punctuation"},"("],["span",{"class":"token punctuation"},")"]," ",["span",{"class":"token punctuation"},"{"],"\n    ",["span",{"class":"token keyword"},"return"]," ",["span",{"class":"token punctuation"},"("],"\n      ",["span",{"class":"token tag"},["span",{"class":"token tag"},["span",{"class":"token punctuation"},"<"],["span",{"class":"token class-name"},"Host"]],["span",{"class":"token punctuation"},">"]],["span",{"class":"token plain-text"},"\n        "],["span",{"class":"token tag"},["span",{"class":"token tag"},["span",{"class":"token punctuation"},"<"],"h1"],["span",{"class":"token punctuation"},">"]],["span",{"class":"token plain-text"},"Title"],["span",{"class":"token tag"},["span",{"class":"token tag"},["span",{"class":"token punctuation"},"</"],"h1"],["span",{"class":"token punctuation"},">"]],["span",{"class":"token plain-text"},"\n        "],["span",{"class":"token tag"},["span",{"class":"token tag"},["span",{"class":"token punctuation"},"<"],"p"],["span",{"class":"token punctuation"},">"]],["span",{"class":"token plain-text"},"Message"],["span",{"class":"token tag"},["span",{"class":"token tag"},["span",{"class":"token punctuation"},"</"],"p"],["span",{"class":"token punctuation"},">"]],["span",{"class":"token plain-text"},"\n      "],["span",{"class":"token tag"},["span",{"class":"token tag"},["span",{"class":"token punctuation"},"</"],["span",{"class":"token class-name"},"Host"]],["span",{"class":"token punctuation"},">"]],"\n    ",["span",{"class":"token punctuation"},")"],["span",{"class":"token punctuation"},";"],"\n  ",["span",{"class":"token punctuation"},"}"],"\n",["span",{"class":"token punctuation"},"}"]]],"\n  "],"\n  ",["p",null,"This JSX would render the following HTML:"],"\n\n  ",["highlight-code",null,"\n    ",["pre",{"class":"language-markup"},["code",{"class":"language-markup"},["span",{"class":"token tag"},["span",{"class":"token tag"},["span",{"class":"token punctuation"},"<"],"my-cmp"],["span",{"class":"token punctuation"},">"]],"\n  ",["span",{"class":"token tag"},["span",{"class":"token tag"},["span",{"class":"token punctuation"},"<"],"h1"],["span",{"class":"token punctuation"},">"]],"Title",["span",{"class":"token tag"},["span",{"class":"token tag"},["span",{"class":"token punctuation"},"</"],"h1"],["span",{"class":"token punctuation"},">"]],"\n  ",["span",{"class":"token tag"},["span",{"class":"token tag"},["span",{"class":"token punctuation"},"<"],"p"],["span",{"class":"token punctuation"},">"]],"Message",["span",{"class":"token tag"},["span",{"class":"token tag"},["span",{"class":"token punctuation"},"</"],"p"],["span",{"class":"token punctuation"},">"]],"\n",["span",{"class":"token tag"},["span",{"class":"token tag"},["span",{"class":"token punctuation"},"</"],"my-cmp"],["span",{"class":"token punctuation"},">"]]]],"\n  "],"\n  ",["p",null,"Even if we don't use ",["code",null,"<Host>"]," to render any attribute in the host element, it's a useful API to render many elements at the root level."],"\n\n",["h2",{"id":"element-decorator"},"\n  ",["a",{"class":"heading-link","href":"#element-decorator"},["app-icon",{"name":"link"}],"\n  Element Decorator\n  "],"\n"],"\n",["p",null,"The ",["code",null,"@Element()"]," decorator is how to get access to the host element within the class instance. This returns an instance of an ",["code",null,"HTMLElement"],", so standard DOM methods/events can be used here."],"\n\n  ",["highlight-code",null,"\n    ",["pre",{"class":"language-tsx"},["code",{"class":"language-tsx"},["span",{"class":"token keyword"},"import"]," ",["span",{"class":"token punctuation"},"{"]," Element ",["span",{"class":"token punctuation"},"}"]," ",["span",{"class":"token keyword"},"from"]," ",["span",{"class":"token string"},"'@stencil/core'"],["span",{"class":"token punctuation"},";"],"\n\n",["span",{"class":"token operator"},"..."],"\n",["span",{"class":"token keyword"},"export"]," ",["span",{"class":"token keyword"},"class"]," ",["span",{"class":"token class-name"},"TodoList"]," ",["span",{"class":"token punctuation"},"{"],"\n\n  @",["span",{"class":"token function"},"Element"],["span",{"class":"token punctuation"},"("],["span",{"class":"token punctuation"},")"]," el",["span",{"class":"token operator"},":"]," HTMLElement",["span",{"class":"token punctuation"},";"],"\n\n  ",["span",{"class":"token function"},"getListHeight"],["span",{"class":"token punctuation"},"("],["span",{"class":"token punctuation"},")"],["span",{"class":"token operator"},":"]," ",["span",{"class":"token builtin"},"number"]," ",["span",{"class":"token punctuation"},"{"],"\n    ",["span",{"class":"token keyword"},"return"]," ",["span",{"class":"token keyword"},"this"],["span",{"class":"token punctuation"},"."],"el",["span",{"class":"token punctuation"},"."],["span",{"class":"token function"},"getBoundingClientRect"],["span",{"class":"token punctuation"},"("],["span",{"class":"token punctuation"},")"],["span",{"class":"token punctuation"},"."],"height",["span",{"class":"token punctuation"},";"],"\n  ",["span",{"class":"token punctuation"},"}"],"\n",["span",{"class":"token punctuation"},"}"]]],"\n  "],"\n  ",["p",null,"If you need to update the host element in response to prop or state changes, you should do so in the ",["code",null,"render()"]," method using the ",["code",null,"<Host>"]," element."],"\n\n",["h2",{"id":"styling"},"\n  ",["a",{"class":"heading-link","href":"#styling"},["app-icon",{"name":"link"}],"\n  Styling\n  "],"\n"],"\n",["p",null,"See full information about styling on the ",["a",{"href":"https://stenciljs.com/docs/styling#shadow-dom-in-stencil"},"Styling page"],"."],"\n",["p",null,"CSS can be applied to the ",["code",null,"<Host>"]," element by using its component tag defined in the ",["code",null,"@Component"]," decorator."],"\n\n  ",["highlight-code",null,"\n    ",["pre",{"class":"language-tsx"},["code",{"class":"language-tsx"},"@",["span",{"class":"token function"},"Component"],["span",{"class":"token punctuation"},"("],["span",{"class":"token punctuation"},"{"],"\n  tag",["span",{"class":"token operator"},":"]," ",["span",{"class":"token string"},"'my-cmp'"],["span",{"class":"token punctuation"},","],"\n  styleUrl",["span",{"class":"token operator"},":"]," ",["span",{"class":"token string"},"'my-cmp.css'"],"\n",["span",{"class":"token punctuation"},"}"],["span",{"class":"token punctuation"},")"],"\n",["span",{"class":"token operator"},"..."]]],"\n  "],"\n  ",["p",null,"my-cmp.css:"],"\n\n  ",["highlight-code",null,"\n    ",["pre",{"class":"language-css"},["code",{"class":"language-css"},["span",{"class":"token selector"},"my-cmp"]," ",["span",{"class":"token punctuation"},"{"],"\n  ",["span",{"class":"token property"},"width"],["span",{"class":"token punctuation"},":"]," 100px",["span",{"class":"token punctuation"},";"],"\n",["span",{"class":"token punctuation"},"}"]]],"\n  "],"\n  \n",["h3",{"id":"shadow-dom"},"\n  ",["a",{"class":"heading-link","href":"#shadow-dom"},["app-icon",{"name":"link"}],"\n  Shadow DOM\n  "],"\n"],"\n",["p",null,"Something to beware of is that Styling the ",["code",null,"<Host>"]," element when using shadow DOM does not work quite the same. Instead of using the ",["code",null,"my-cmp"]," element selector you must use ",["code",null,":host"],"."],"\n\n  ",["highlight-code",null,"\n    ",["pre",{"class":"language-tsx"},["code",{"class":"language-tsx"},"@",["span",{"class":"token function"},"Component"],["span",{"class":"token punctuation"},"("],["span",{"class":"token punctuation"},"{"],"\n  tag",["span",{"class":"token operator"},":"]," ",["span",{"class":"token string"},"'my-cmp'"],["span",{"class":"token punctuation"},","],"\n  styleUrl",["span",{"class":"token operator"},":"]," ",["span",{"class":"token string"},"'my-cmp.css'"],["span",{"class":"token punctuation"},","],"\n  shadow",["span",{"class":"token operator"},":"]," ",["span",{"class":"token boolean"},"true"],"\n",["span",{"class":"token punctuation"},"}"],["span",{"class":"token punctuation"},")"],"\n",["span",{"class":"token operator"},"..."]]],"\n  "],"\n  ",["p",null,"my-cmp.css:"],"\n\n  ",["highlight-code",null,"\n    ",["pre",{"class":"language-css"},["code",{"class":"language-css"},["span",{"class":"token selector"},":host"]," ",["span",{"class":"token punctuation"},"{"],"\n  ",["span",{"class":"token property"},"width"],["span",{"class":"token punctuation"},":"]," 100px",["span",{"class":"token punctuation"},";"],"\n",["span",{"class":"token punctuation"},"}"]]],"\n  "]]}